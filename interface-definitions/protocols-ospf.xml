<?xml version="1.0"?>
<interfaceDefinition>
  <node name="protocols">
    <children>
      <node name="nospf" owner="${vyos_conf_scripts_dir}/protocols_ospf.py">
        <properties>
          <help>Open Shortest Path First (OSPF)</help>
          <priority>620</priority>
        </properties>
        <children>
          <tagNode name="access-list">
            <properties>
              <help>Access list to filter networks in routing updates</help>
              <valueHelp>
                <format>u32</format>
                <description>Access-list number</description>
              </valueHelp>
              <constraint>
                <validator name="numeric" argument="--range 0-4294967295"/>
              </constraint>
            </properties>
            <children>
              <leafNode name="export">
                <properties>
                  <help>Filter for outgoing routing update [REQUIRED]</help>
                  <completionHelp>
                    <list>bgp connected kernel rip static</list>
                  </completionHelp>
                  <valueHelp>
                    <format>bgp</format>
                    <description>Filter BGP routes</description>
                  </valueHelp>
                  <valueHelp>
                    <format>connected</format>
                    <description>Filter connected routes</description>
                  </valueHelp>
                  <valueHelp>
                    <format>kernel</format>
                    <description>Filter Kernel routes</description>
                  </valueHelp>
                  <valueHelp>
                    <format>rip</format>
                    <description>Filter RIP routes</description>
                  </valueHelp>
                  <valueHelp>
                    <format>static</format>
                    <description>Filter static routes</description>
                  </valueHelp>
                  <constraint>
                    <regex>^(bgp|connected|kernel|rip|static)$</regex>
                  </constraint>
                  <constraintErrorMessage>Must be bgp, connected, kernel, rip, or static</constraintErrorMessage>
                  <multi/>
                </properties>
              </leafNode>
            </children>
          </tagNode>
          <tagNode name="area">
            <properties>
              <help>OSPF Area</help>
              <valueHelp>
                <format>u32</format>
                <description>OSPF area in decimal notation</description>
              </valueHelp>
              <valueHelp>
                <format>ipv4</format>
                <description>OSPF area in dotted decimal notation</description>
              </valueHelp>
              <constraint>
                <validator name="numeric" argument="--range 0-4294967295"/>
                <validator name="ip-address"/>
              </constraint>
            </properties>
          </tagNode>
        </children>
      </node>
    </children>
  </node>
</interfaceDefinition>
