### generated by accel_pptp.py ###
[modules]
log_syslog
pptp
ippool
chap-secrets
{% if authentication['auth_proto'] %}
{{ authentication['auth_proto'] }}
{% else %}
auth_mschap_v2
{% endif %}
{% if authentication['mode'] == 'radius' %}
radius
{% endif -%}

[core]
thread-count={{thread_cnt}}

[log]
syslog=accel-pptp,daemon
copy=1
level=5

{% if dns %}
[dns]
{% if dns[0] %}
dns1={{dns[0]}}
{% endif %}
{% if dns[1] %}
dns2={{dns[1]}}
{% endif %}
{% endif %}

{% if wins %}
[wins]
{% if wins[0] %}
wins1={{wins[0]}}
{% endif %}
{% if wins[1] %}
wins2={{wins[1]}}
{% endif %}
{% endif %}

[pptp]
ifname=pptp%d
{% if outside_addr %}
bind={{outside_addr}}
{% endif %}
verbose=1
ppp-max-mtu={{mtu}}
mppe={{authentication['mppe']}}
echo-interval=10
echo-failure=3


[client-ip-range]
0.0.0.0/0

[ip-pool]
tunnel={{client_ip_pool}}
gw-ip-address={{gw_ip}}

{% if authentication['mode'] == 'local' %}
[chap-secrets]
chap-secrets={{ chap_secrets_file }}
{% endif %}

[ppp]
verbose=5
check-ip=1
single-session=replace

{% if authentication['mode'] == 'radius' %}
[radius]
{% for rsrv in authentication['radiussrv']: %}
server={{rsrv}},{{authentication['radiussrv'][rsrv]['secret']}},\
req-limit={{authentication['radiussrv'][rsrv]['req-limit']}},\
fail-time={{authentication['radiussrv'][rsrv]['fail-time']}}
{% endfor %}
timeout=30
acct-timeout=30
max-try=3
{%endif %}

[cli]
tcp=127.0.0.1:2003
